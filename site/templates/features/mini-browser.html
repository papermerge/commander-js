{% extends "base.html" %}

{% block extra_js %}
  <script type="module" src="static/js/features/mini-browser.js"></script>
{% endblock %}

{% block content %}
  <main class="container py-3">
    <h1>Mini Browser</h1>
    <p>
    Very basic document navigation/browsing featuring a breadcrumb. 
    </p>
    <div class="example">
        <h3>Mini Browser (panel is in grid mode)</h3>
        <div id="breadcrumb">
        </div>
        <div id="panel">
        </div>
    </div>
    <pre>
        <code class="javascript">
            let DC = DocumentCommander,
              commander_panel,
              node,
              nodes;

            commander_panel = new DC.CommanderPanelView({
              options: {
                'panel': {'el': document.querySelect('#panel')},
                'breadcrumb': {'el': document.querySelect("#breadcrumb")}
              }
            });

            node = new DC.Document({id: 5, title: "invoice.pdf"});
            commander_panel.add(node);

            nodes = new DC.NodesCollection();
            nodes.add(
                new DC.Document({id: 1, title: "payment_1.pdf"})
            );
            nodes.add(
                new DC.Document({id: 2, title: "payment_2.pdf"})
            );
            nodes.add(
                new DC.Folder({id: 3, title: "My Documents"})
            );
            
            commander_panel.add(nodes);

            commander_panel.on('document_clicked', (doc) => {
              alert(`Document id=${doc.id} title=${doc.title} clicked`);
            });
        </code>
    </pre>
  </main>
{% endblock %}
